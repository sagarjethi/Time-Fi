{"ast":null,"code":"import _classCallCheck from \"/home/ankit/zil/cali-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ankit/zil/cali-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ankit/zil/cali-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ankit/zil/cali-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ankit/zil/cali-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ankit/zil/cali-front/src/pages/NewEvent/Availability/CalendarController.tsx\";\nimport React from \"react\";\nimport { fromRenderProps } from \"recompose\";\nexport var CalendarContext = React.createContext({});\nexport var withCalendarContext = function withCalendarContext() {\n  return fromRenderProps(CalendarContext.Consumer, function (p) {\n    return p;\n  });\n};\nvar initialState = {\n  isSelectingDay: false,\n  dayStart: 1,\n  today: 5,\n  anchorDay: 0,\n  dayEnd: 1\n};\nexport var CalendarControl =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CalendarControl, _React$Component);\n\n  function CalendarControl() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CalendarControl);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CalendarControl)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = initialState;\n\n    _this.selectDay = function (anchorDay) {\n      _this.setState({\n        anchorDay: anchorDay,\n        dayStart: anchorDay,\n        dayEnd: anchorDay,\n        isSelectingDay: true\n      });\n    };\n\n    _this.unselectDay = function (cb) {\n      _this.setState({\n        isSelectingDay: false\n      }, cb);\n    };\n\n    _this.hoverDay = function (day) {\n      var anchorDay = _this.state.anchorDay;\n\n      _this.setState({\n        dayStart: Math.min(anchorDay, day),\n        dayEnd: Math.max(anchorDay, day)\n      });\n    };\n\n    _this.dayInRange = function (day) {\n      return _this.state.dayStart <= parseInt(day) && parseInt(day) <= _this.state.dayEnd || _this.state.dayEnd <= parseInt(day) && parseInt(day) <= _this.state.dayStart;\n    };\n\n    return _this;\n  }\n\n  _createClass(CalendarControl, [{\n    key: \"render\",\n    value: function render() {\n      var selectDay = this.selectDay,\n          dayInRange = this.dayInRange,\n          hoverDay = this.hoverDay,\n          unselectDay = this.unselectDay;\n      var _this$state = this.state,\n          isSelectingDay = _this$state.isSelectingDay,\n          dayStart = _this$state.dayStart,\n          dayEnd = _this$state.dayEnd,\n          today = _this$state.today;\n      return React.createElement(CalendarContext.Provider, {\n        value: {\n          selectDay: selectDay,\n          dayStart: dayStart,\n          dayEnd: dayEnd,\n          today: today,\n          dayInRange: dayInRange,\n          unselectDay: unselectDay,\n          hoverDay: hoverDay,\n          isSelectingDay: isSelectingDay\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, this.props.children);\n    }\n  }]);\n\n  return CalendarControl;\n}(React.Component);","map":{"version":3,"sources":["/home/ankit/zil/cali-front/src/pages/NewEvent/Availability/CalendarController.tsx"],"names":["React","fromRenderProps","CalendarContext","createContext","withCalendarContext","Consumer","p","initialState","isSelectingDay","dayStart","today","anchorDay","dayEnd","CalendarControl","state","selectDay","setState","unselectDay","cb","hoverDay","day","Math","min","max","dayInRange","parseInt","props","children","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { fromRenderProps, Omit } from \"recompose\";\n\nexport const CalendarContext = React.createContext<CalendarContextType>(\n  {} as CalendarContextType\n);\n\nexport type CalendarContextType = Pick<\n  CalendarControl,\n  \"selectDay\" | \"dayInRange\" | \"unselectDay\" | \"hoverDay\"\n> &\n  CalendarControlStateType;\n\nexport const withCalendarContext = function<T>() {\n  return fromRenderProps<CalendarContextType, T, CalendarContextType & T>(\n    CalendarContext.Consumer,\n    p => p\n  );\n};\n\nconst initialState = {\n  isSelectingDay: false,\n  dayStart: 1,\n  today: 5,\n  anchorDay: 0,\n  dayEnd: 1\n};\n\nexport type CalendarControlStateType = Omit<typeof initialState, \"anchorDay\">;\nexport class CalendarControl extends React.Component<{}, typeof initialState> {\n  state = initialState;\n\n  selectDay = (anchorDay: number) => {\n    this.setState({\n      anchorDay,\n      dayStart: anchorDay,\n      dayEnd: anchorDay,\n      isSelectingDay: true\n    });\n  };\n\n  unselectDay = (cb: () => void) => {\n    this.setState(\n      {\n        isSelectingDay: false\n      },\n      cb\n    );\n  };\n  hoverDay = (day: number) => {\n    const { anchorDay } = this.state;\n    this.setState({\n      dayStart: Math.min(anchorDay, day),\n      dayEnd: Math.max(anchorDay, day)\n    });\n  };\n\n  dayInRange = (day: string) => {\n    return (\n      (this.state.dayStart <= parseInt(day) &&\n        parseInt(day) <= this.state.dayEnd) ||\n      (this.state.dayEnd <= parseInt(day) &&\n        parseInt(day) <= this.state.dayStart)\n    );\n  };\n  render() {\n    const { selectDay, dayInRange, hoverDay, unselectDay } = this;\n    const { isSelectingDay, dayStart, dayEnd, today } = this.state;\n    return (\n      <CalendarContext.Provider\n        value={{\n          selectDay,\n          dayStart,\n          dayEnd,\n          today,\n          dayInRange,\n          unselectDay,\n          hoverDay,\n          isSelectingDay\n        }}\n      >\n        {this.props.children}\n      </CalendarContext.Provider>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}